language: node_js
node_js:
  - "12"
cache:
  npm: false
install:
  - npm install
script:
  - npm run test
  - npm run build
  - npm run storybook:build
  - .travis/prep-site.sh
deploy:
  - provider: pages
    skip_cleanup: true
    github_token: $GH_TOKEN
    keep-history: true
    local-dir: ./gh-pages
    on:
      branch: master